{{ define "title" }}{{ .Site.Title }}{{ end }} {{ define "description" }}{{
.Site.Params.description }}{{ end }} {{ define "main" }}
<div class="wrapper">
  <div class="container">
    <div class="row">
      <div class="col py-5">
        <div class="d-flex align-items-center justify-content-center py-5">
          {{ if eq .Site.Language.Lang "en" }}
          {{ partial "hero-unit/hero-unit.en.html" . }}
          {{ else if eq .Site.Language.Lang "zh" }}
          {{ partial "hero-unit/hero-unit.zh.html" . }}
          {{ end }}
        </div>
      </div>
    </div>
  </div>
</div>

<div class="p-5 mt-1 bg-dark" id="course">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3 text-center">
        <h1 class="pb-5 text-white">{{ .Site.Params.courses }}</h1>
      </div>
    </div>
    <section class="wave-bk bg--">
      {{ range where .Site.Pages "Section" "courses" }} {{ partial
      "courses/list.html" . }} {{ end }}
    </section>
  </div>
</div>

<!-- momery gallery with hugo  -->
<div class="py-5" id="memories">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3 text-center">
        <h1 class="pb-2 text-black">{{ .Site.Params.gallery }}</h1>
        <h6 class="pb-3 text-black">{{ .Site.Params.gallerydescription }}</h6>
      </div>
    </div>
    <section class="wave-bk bg--">
      <div
        id="carouselExampleIndicators"
        class="carousel slide carousel-dark"
        data-bs-ride="carousel"
      >
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="1"
            aria-label="Slide 2"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="2"
            aria-label="Slide 3"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="3"
            aria-label="Slide 4"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="4"
            aria-label="Slide 5"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="5"
            aria-label="Slide 6"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="6"
            aria-label="Slide 7"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="7"
            aria-label="Slide 8"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="8"
            aria-label="Slide 9"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleIndicators"
            data-bs-slide-to="9"
            aria-label="Slide 10"
          ></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item  text-center active">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment1.webp" }}
            {{ $image := $image.Resize "x700" }}
            {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center" >
            {{ $image := resources.Get "images/memory-gallery/opencv-moment2.webp" }}
            {{ $image := $image.Resize "x700" }}
            {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment3.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center" >
            {{ $image := resources.Get "images/memory-gallery/opencv-moment4.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center" >
            {{ $image := resources.Get "images/memory-gallery/opencv-moment5.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center" >
            {{ $image := resources.Get "images/memory-gallery/opencv-moment6.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment7.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment8.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment9.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
          <div class="carousel-item text-center">
            {{ $image := resources.Get "images/memory-gallery/opencv-moment10.webp" }}
            {{ $image := $image.Resize "x700" }}
             {{ with $image
            }}
            <img src="{{ .RelPermalink }}" alt="Image processing workshop by opencv">
            {{ end }}
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next text-faded"
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </section>
  </div>
</div>
<!-- end -->

<div class="py-5 mt-1 bg-dark" id="experts">
  <div class="container">
    
    {{ if eq .Site.Language.Lang "en" }}
    {{ partial "experts/experts.en.html" .}}
    {{ else if eq .Site.Language.Lang "zh" }}
    {{ partial "experts/experts.zh.html" .}}
    {{ end }}
  </div>
</div>

<div class="py-5" id="why_us">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2 text-center">
        <h1 class="mb-5">{{ .Site.Params.whyus}}</h1>
      </div>
      <div class="col-lg-8 offset-lg-2">
        {{ $whyUsPage := .Site.GetPage "whyus.md" }}
        {{ with $whyUsPage.Content }}
          {{ . }}
        {{ end }}
      </div>
    </div>
  </div>
</div>

<div class="p-5 bb bg-dark text-white">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2 text-center">
        <h1 class="mb-0">{{ .Site.Params.blog }}</h1>
      </div> 
      {{ $paginator := .Paginate (where .Site.RegularPages "Section" "blog") }}
      {{ partial "blog/list.html" . }}
      <div class="text-center mt-5">
        <a href='{{ relLangURL ""}}blog'><button class="btn btn-lg btn-primary ">See All</button></a> 
    </div>  
    </div>
  </div>
</div>

<div class="py-5 mt-1" id="testimonials">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3 text-center">
        <h1 class="pb-3">{{ .Site.Params.testimonials }}</h1>
      </div>
    </div>
    <div class="row">
      {{ if eq .Site.Language.Lang "en" }}
     {{ partial "testimonials/testimonials.en.html"}}
     {{ else if eq .Site.Language.Lang "zh" }}
     {{ partial "testimonials/testimonials.zh.html"}}
     {{ end }}
    </div>
  </div>
</div>
<hr>
  

<!-- redirect to /zh if browser language is chinese -->
<script>

  var language = navigator.language || navigator.userLanguage;
  language = language.substring(0, 2);

  if (language == "zh" && !window.location.pathname.includes('/zh')) {
  // sessionStorage.setItem('redirectedToChinese', 'true');
  window.location.href = "/zh";
}
</script>
{{ end }}
